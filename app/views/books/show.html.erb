<div class="book-container" style="max-width: 1200px; margin: 0 auto; padding: 24px; font-family: sans-serif;">
  <!-- Back Link and Book Title -->
  <div style="margin-bottom: 24px;">
    <%= link_to books_path, style: "text-decoration: none; font-size: 36px; color: black;" do %>
      &lt;
    <% end %>
    <h1 style="display: inline-block; margin-left: 12px;"><%= @book.title %></h1>
    <% if @book.author.present? %>
      <h2 style="color: grey; font-weight: 400;">By <%= @book.author %></h2>
    <% end %>
  </div>

  <div class="row">
    <!-- Cover Image Column -->
    <div class="col-5">
      <div style="text-align: center; padding: 16px; border: 1px solid #ccc; border-radius: 12px; margin-bottom: 24px;">
        <% if @book.cover_image.attached? %>
          <%= image_tag @book.cover_image, alt: @book.title, style: "max-width: 100%; height: 350px; object-fit: contain;" %>
        <% else %>
          <p>No cover image available.</p>
        <% end %>
      </div>
    </div>

    <!-- Book Info & Form Column -->
    <div class="col-7 d-flex flex-column justify-content-between">
      <div>
        <% if @book.description.present? %>
          <p style="font-size: 16px; line-height: 1.6; margin-bottom: 24px; white-space: pre-wrap;">
            <%= @book.description %>
          </p>
        <% end %>

        <!-- Open Book Form -->
        <%= form_with url: book_page_path(@book, 1), method: :get, html: { class: 'w-100' } do %>
          <fieldset class="form-group">
            <legend class="col-form-label pt-0">Select Languages</legend>

            <% current_user.languages.each_with_index do |language, index| %>
              <div class="form-check mb-2">
                <input class="form-check-input" type="checkbox" value="<%= language %>" name="languages[]" id="<%= language.parameterize %>-<%= index %>">
                <label class="form-check-label" for="<%= language.parameterize %>-<%= index %>"><%= full_name(language) %></label>
              </div>
            <% end %>
          </fieldset>

          <!-- Favorites Partial -->
          <%= render "favorites/create", book: @book %>

          <!-- Submit Button -->
          <div class="mt-5">
            <%= submit_tag "Open Book âž¤", class: "btn btn-primary text-white" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
